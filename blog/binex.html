<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" href="../pandoc.css" type="text/css" />
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta name="generator" content="pandoc" />
    <title></title>
    <style type="text/css">code{white-space: pre;}</style>
    <link rel="stylesheet" href="pandoc.css" type="text/css" />
  </head>
  <body>
  <p><a href="http://www.plosgenetics.org/article/info%3Adoi%2F10.1371%2Fjournal.pgen.1003258"> <img src="images/journal.pgen.1003258.g001.png" style="width: 300px;"></a> <a href="http://mbe.oxfordjournals.org/content/31/7/1750.full"> <img src="images/F6.large.jpg" style="width: 300px;" height="300px"></a> <a href="http://mbe.oxfordjournals.org/content/30/10/2311.full"> <img src="images/F4.large.jpg" style="width: 300px;" height="300px"></a></p>
  <h4 id="home-publications-research-people-news-software-data-resources-blog"><a href="index.html">Home</a> || <a href="pubs.html">Publications</a> || <a href="research.html">Research</a> || <a href="people.html">People</a> || <a href="news.html">News</a> || <a href="software.html">Software</a> || <a href="data.html">Data</a> || <a href="res.html">Resources</a> || <a href="blog.html">Blog</a></h4>
  </body>
  </html>
</head>
<body>
<h1 id="concrete-example-of-binary-output">Concrete example of binary output</h1>
<p>I’ve written a <a href="https://github.com/molpopgen/BigDataFormats">tutorial</a> of sorts on programming methods for so-called “big data”. That document is an overview of your options (gzip, binary, etc.) for people who want to move away from dealing with large, plain-text files. For most people, going from a plain-text file to a gzipped file is a big step, and you have to learn how your favorite programming language supports reading and writing such files.</p>
<p>While gzipping your large files is a big space-saver, you can gain even more once you realize that your files need not be human-readable. Rather, you can write them in native binary format, and read them in the same way. This post covers a specific example of doing that, using the data format of Dick Hudson’s “<a href="http://home.uchicago.edu/~rhudson1/source/mksamples.html">ms</a>” as a concrete example.</p>
<h2 id="the-data-format">The data format</h2>
<p>In plain-text, the output of a typical ms run looks something like this:</p>
<pre><code>//
segsites: 5
positions: 0.3203 0.3704 0.6564 0.8152 0.8722 
01100
01110
01100
10000
01101
00000
10000
01100
01100
01110</code></pre>
<p>You can find a standalone program to write such data to binary format <a href="">here</a> and another one using <a href="http://molpopgen.github.io/libsequence">libsequence</a> <a href="">here</a>. I suggest that the latter implementation is the preferred one. It is shorter, simpler, and takes advantages of code re-use via a library.</p>
<p>To compile the standalone version:</p>
<pre><code>c++ -std=c++11 -O2 -o ms2bin ms2bin.cc</code></pre>
<p>To compile the libsequence version (after installing libsequence):</p>
<pre><code>c++ -std=c++11 -O2 -o ms2binlseq ms2binlseq.cc -lsequence</code></pre>
</body>
</html>
